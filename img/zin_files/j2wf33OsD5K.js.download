if (self.CavalryLogger) { CavalryLogger.start_js(["SiQa4LQ"]); }

__d("MDSText.react",["cr:1087"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1087")}),98);
__d("MWMenu.react",["cr:12346","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:12346")}),98);
__d("MWChatEphemeralMediaTemporarySeenState.bs",["JSMap.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=new Map();function a(a,c){a=b("JSMap.bs").getOrMake(i,a,function(a){return new Set()});a.add(c)}function c(a,b){a=i.get(a);if(a==null)return!1;else return a.has(b)}function j(a){i["delete"](a)}function d(a){h.useEffect(function(){return function(b){return j(a)}},[a])}f.markSeenThisSession=a;f.isSeenThisSession=c;f.endSession=j;f.useEndSessionOnDismount=d}),null);
__d("MWChatCloseTab.bs",["MWChatEphemeralMediaTemporarySeenState.bs","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","MWChatThreadId.bs","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=h.useContext(b("MWChatMultitabContext.bs").context);return h.useCallback(function(a){c(Date.now(),"","messenger");if(d!==void 0){b("MWChatEphemeralMediaTemporarySeenState.bs").endSession(b("MWChatThreadId.bs").getFBID(a));return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,{TAG:3,_0:a})}},[d,c])}f.useHook=a}),null);
__d("LSMessagingThreadTypeUtil.bs",["MWCMThreadTypes.bs","MessagingThreadType.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").tincanGroupDisappearing)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").secureMessageOverWaGroup)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").marketplace)||b("MWCMThreadTypes.bs").isAnyCMThread(a)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").room))return!0;else return!1}function c(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").tincanOneToOne)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").carrierMessagingOneToOne)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").tincanOneToOneDisappearing)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").secureMessageOverWaOneToOne))return!0;else return!1}function d(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)||b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").secureMessageOverWaGroup))return!0;else return!1}function e(a){a=a.NAME;if(a==="Group")return b("MessagingThreadType.bs").group;else if(a==="User"||a==="Page")return b("MessagingThreadType.bs").oneToOne;else return b("MessagingThreadType.bs").tincanOneToOne}f.isGroup=a;f.isOneToOne=c;f.isSecure=d;f.ofThreadId=e}),null);
__d("LS.bs",["cr:12059"],(function(a,b,c,d,e,f){"use strict";a=b("cr:12059").make;c=b("cr:12059").modules;f.make=a;f.modules=c}),null);
__d("LSVerifyThreadExists",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return[[0,7],[0,8],[0,13],[0,10],[0,11],[0,16]].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[10]=e.Z,e.e==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.ge(d[10],a[4])||c.i64.eq(d[10],[0,20])&&(c.i64.eq(a[1],[0,2])||c.i64.eq(a[1],[0,18]))?(b=[!1,!1,!1],d[11]=b[0],d[12]=b[1],d[13]=b[2],b):(e=[!0,!1,!0],d[11]=e[0],d[12]=e[1],d[13]=e[2],e),f=[d[11],d[12],d[13]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),b=[d[7],d[8],d[9]],d[3]=b[0],d[4]=b[1],d[5]=b[2],b)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",!1),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",[0,1]),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,209],d[5],f,f,[0,0],f)):c.resolve()},function(e){return d[1]?c.seq([function(b){return d[3]=[64,1133827359],d[4]=[0,0],c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.lt(b.Z,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({a:a[0],b:[0,0],c:a[1],e:a[2],j:[0,0],k:[-1,4294967295],u:[0,0],A:a[3],Z:a[4],P:d[3],bb:d[4],bh:[-1,4294967295]})},function(e){return c.i64.eq(a[1],[0,1])?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.b,a[0])&&c.i64.lt(b.j,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({a:a[0],b:a[0],c:[0,0],d:[0,0],j:a[4],m:!1})},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[5]=a[0],a})},function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],d[5]]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.b,d[5])&&c.i64.lt(b.j,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({a:a[0],b:d[5],c:[0,0],d:[0,0],j:a[4],m:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({Z:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExists"),a[0],a[1]==null?[0,1]:a[1],"inbox",[0,0],[0,40])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("MWLSChatThreadHook.bs",["LS.bs","LSDatabaseType.bs","LSTransaction.bs","LSVerifyThreadRowExists","MWThread_DEPRECATED.bs","MessagingThreadType.bs","ReStore.bs","bs_curry","promiseDone","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);h.useEffect(function(){var d=a.NAME,e=d==="Group"?b("MessagingThreadType.bs").group:d==="User"||d==="Page"?b("MessagingThreadType.bs").oneToOne:b("unrecoverableViolation")("Not supported","messenger_web_product");b("promiseDone")(b("LSTransaction.bs").run(c,function(c){var d=b("MWThread_DEPRECATED.bs").toThreadKey(a);return b("LSVerifyThreadRowExists")(d,e,b("LSDatabaseType.bs").mailbox,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0)},[a,c])}f.useThread=a}),null);
__d("LSContactTypeExact.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13];f.unknown=a;f.fbUser=c;f.messengerOnly=d;f.deactivatedAllowedOnMessenger=e;f.messengerKid=b;f.fbPage=g;f.fbPagePersona=h;f.igUser=i;f.messengerCallGuest=j;f.whatsapp=k;f.guestUser=l;f.igBusinessUser=m;f.igCreatorUser=n;f.fbSingleOwnerAdditionalProfile=o}),null);
__d("MWLSContactTypeExactUtils.bs",["LSContactTypeExact.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function g(a){if(b("bs_caml").i64_eq(a,b("LSContactTypeExact.bs").igUser)||b("bs_caml").i64_eq(a,b("LSContactTypeExact.bs").igBusinessUser))return!0;else return b("bs_caml").i64_eq(a,b("LSContactTypeExact.bs").igCreatorUser)}function a(a){return g(a.r)}f.isIgContactTypeExact=g;f.isIgContact=a}),null);
__d("LSContactWorkForeignEntityType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.unknown=a;f.foreign=c;f.notForeign=d;f.notForeignLimited=e}),null);
__d("LSContactGender.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.unknown=a;f.female=c;f.male=d;f.neuter=e}),null);
__d("LSMailboxType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,1024];e=[0,1536];b=[0,2048];var g=[0,2049],h=[0,4096];f.messenger=a;f.communities=c;f.tincan=d;f.carrier=e;f.whatsappPhone=b;f.whatsappInterop=g;f.tam=h}),null);
__d("MWLSParticipant.bs",["LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactType.bs","LSContactWorkForeignEntityType.bs","LSMailboxType.bs","MWLSContactTypeExactUtils.bs","ReQL.bs","ReQLTable","bs_belt_Option","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";e={contact_id:(d=b("bs_caml_int64")).zero,thread_key:d.zero,contactType:b("LSContactType.bs").unknown,mailbox_type:b("LSMailboxType.bs").messenger,read_watermark_timestamp_ms:d.zero,read_action_timestamp_ms:d.zero,delivered_watermark_timestamp_ms:d.zero,name:"",actual_name:"",secondary_name:void 0,nickname:void 0,blocked_by_viewer_status:b("LSContactBlockedByViewerStatus.bs").unblocked,profile_picture_url:"",is_messenger_user:!1,is_admin:!1,gender:b("LSContactGender.bs").unknown,rank:0,work_company_name:void 0,work_job_title:void 0,work_foreign_entity_info:b("LSContactWorkForeignEntityType.bs").unknown};function g(a){var c=a[1];a=a[0];var d=a.e;if(d!==void 0)d=d;else{var e=c.p;d=e!==void 0?e:c.h}return{contact_id:a.b,thread_key:a.a,contactType:c.q,mailbox_type:b("LSMailboxType.bs").messenger,read_watermark_timestamp_ms:a.c,read_action_timestamp_ms:a.k,delivered_watermark_timestamp_ms:a.d,name:d,actual_name:c.h,secondary_name:b("MWLSContactTypeExactUtils.bs").isIgContact(c)?c.K:void 0,nickname:a.e,blocked_by_viewer_status:c.n,profile_picture_url:c.b,is_messenger_user:c.k,is_admin:b("bs_belt_Option").getWithDefault(a.f,!1),gender:c.I,rank:c.o,work_company_name:c.B,work_job_title:c.C,work_foreign_entity_info:c.F}}function a(a,c,d){return b("ReQL.bs").map(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:d,tl:0}),c),g)}function c(a,c){return b("ReQL.bs").getKeyRange(a,{hd:c,tl:0})}f.empty=e;f.projectOpen=g;f.getAllInOpenThread=a;f.getInOpenThread=c}),null);
__d("WorkForeignEntityDetail",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"NONE",HAS_GUESTS:"HAS_GUESTS",MULTICOMPANY:"MULTICOMPANY",IS_EXTERNAL:"IS_EXTERNAL",LIMITED_ACCOUNT:"LIMITED_ACCOUNT",LIMITED_GROUP:"LIMITED_GROUP",EXTERNAL_ACCOUNT:"EXTERNAL_ACCOUNT",EXTERNAL_LIMITED_ACCOUNT:"EXTERNAL_LIMITED_ACCOUNT",RP4SMB_GUEST:"RP4SMB_GUEST",ROOMS_GUEST:"ROOMS_GUEST"});f["default"]=a}),66);
__d("WorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({FOREIGN:"FOREIGN",NOT_FOREIGN:"NOT_FOREIGN",LIMITED:"LIMITED"});f["default"]=a}),66);
__d("bs_js_null_undefined",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a==null)return a;else return b(a)}function c(a,b){if(!(a==null))return b(a)}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a)}e=d;f.bind=a;f.iter=c;f.fromOption=d;f.from_opt=e}),null);
__d("MWLSLoadParticipants.bs",["FBID.bs","GenderConst","LSContactBlockedByViewerStatus.bs","LSContactType.bs","LSContactWorkForeignEntityType.bs","MWLSParticipant.bs","MWThread_DEPRECATED.bs","MercuryIDs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","WorkForeignEntityDetail","WorkForeignEntityType","bs_caml","bs_int64","bs_js_null_undefined","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var b=a.work_company_name;a=a.work_job_title;if(b!==void 0)if(a!==void 0&&a.length!==0)return""+a+" \u2022 "+b;else return b;else if(a!==void 0)return a;else return}function j(a){return a.reduce(function(a,c){return a.set(b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.contact_id)),c)},new Map())}function k(a){var c=new Map();a.forEach(function(a){var d=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.contact_id)),e=a.name,f=a.actual_name,g=a.nickname,h=a.profile_picture_url,j=a.is_admin,k=i(a),l=a.secondary_name;d={contactId:d,name:e,actualName:f,nickname:g,profileUrl:void 0,profilePictureUrl:h,isContact:!0,isAdmin:j,jobTitle:k,secondaryName:l};c.set(b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.contact_id)),d)});return c}function l(a){if(b("bs_caml").i64_eq(a,b("LSContactWorkForeignEntityType.bs").notForeign)||b("bs_caml").i64_eq(a,b("LSContactWorkForeignEntityType.bs").unknown))return b("WorkForeignEntityType").NOT_FOREIGN;else if(b("bs_caml").i64_eq(a,b("LSContactWorkForeignEntityType.bs").notForeignLimited))return b("WorkForeignEntityType").LIMITED;else return b("WorkForeignEntityType").FOREIGN}function m(a){var c=a.work_foreign_entity_info;if(b("bs_int64").equal(a.contactType,b("LSContactType.bs").page))return{detail:b("WorkForeignEntityDetail").NONE,label:"",type:b("WorkForeignEntityType").NOT_FOREIGN};else return{detail:b("WorkForeignEntityDetail").NONE,label:"",type:l(c)}}function n(a){a=a.reduce(function(a,c){var d=a[1];a=a[0];var e=b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.contact_id)),f=b("MercuryIDs").getParticipantIDFromUserID(e);a[f]={id:f,fbid:e,name:c.actual_name,image_src:c.profile_picture_url,square_image_src:null,accepts_messenger_user_feedback:!1,big_image_src:null,href:null,gender:b("GenderConst").NOT_A_PERSON,short_name:c.name,user_type:null,vanity:null,is_friend:!1,is_viewer_managing_parent:!1,is_messenger_user:c.is_messenger_user,is_aloha_proxy_confirmed:!1,is_business_enabled:!1,is_messenger_platform_bot:!1,is_messenger_blocked:c.blocked_by_viewer_status===b("LSContactBlockedByViewerStatus.bs").messageBlocked,is_subscribed_to_page_updates:!1,is_messenger_ignored:null,is_facebook_blocked:c.blocked_by_viewer_status===b("LSContactBlockedByViewerStatus.bs").fullyBlocked,title:b("bs_js_null_undefined").fromOption(i(c)),company_name:b("bs_js_null_undefined").fromOption(c.work_company_name),employee:!1,instant_game_channel:null,wec_group_creation_time:null,wec_group_invite_link:null,wec_group_participant_count:null,wec_group_participants:[],wec_group_admins:[],timezone:null,verification_status:null,work_foreign_entity_info:m(c)};f=c.nickname;f!==void 0&&(d[e]=f);return[a,d]},[{},{}]);var c=function(a,b){};return[a[0],a[1],c]}function o(a){var c=a!==void 0?b("MWThread_DEPRECATED.bs").toThreadKey(a):void 0,d=b("ReStore.bs").useHook(void 0),e=b("ReQLTable").table(d,"contacts").asc;return b("ReQLSubscription.bs").useArray(h.useMemo(function(){if(c!==void 0)return b("MWLSParticipant.bs").getAllInOpenThread(d,e,c);else return b("SortedAsyncIterable.bs").empty(void 0)},[JSON.stringify(c),d]))}function a(a){return o(a)}function c(a){var b=o(a);return h.useMemo(function(){return j(b)},[b])}function d(a){var b=o(a);return h.useMemo(function(){return k(b)},[b])}function e(a){var b=o(a);return h.useMemo(function(){return n(b)},[b])}f.getMWLSParticipantsMap=j;f.getChatParticipants=k;f.getWorkForeignEntityType=l;f.genFromLSContactWorkEntityType=m;f.getMercuryParticipants=n;f.useMaybeMWLSParticipants=o;f.useMWLSParticipants=a;f.useMWLSParticipantsMap=c;f.useParticipants=d;f.useMercuryParticipants=e}),null);
__d("MWLSCurrentThreadParticipants.bs",["MWLSLoadParticipants.bs","MWThread_DEPRECATED.bs","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){a=a.children;var c=b("MWThread_DEPRECATED.bs").useId(void 0);c=b("MWLSLoadParticipants.bs").useMaybeMWLSParticipants(c);return h.createElement(i.Provider,{value:c,children:a})}a={make:a};function j(a){a=h.useContext(i);var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);c=b("MWLSLoadParticipants.bs").useMaybeMWLSParticipants(a!==void 0?void 0:c);if(a!==void 0)return a;else return c}function c(a){a=h.useContext(i);if(a!==void 0)return a;else return b("unrecoverableViolation")("Tried to get participants from cache but there are none","messenger_web_product")}function d(a){var c=j(void 0);return h.useMemo(function(){return b("MWLSLoadParticipants.bs").getMWLSParticipantsMap(c)},[c])}function e(a){var c=j(void 0);return h.useMemo(function(){return b("MWLSLoadParticipants.bs").getChatParticipants(c)},[c])}function k(a){var c=j(void 0);return h.useMemo(function(){return b("MWLSLoadParticipants.bs").getMercuryParticipants(c)},[c])}f.Provider=a;f.useMWLSParticipants=j;f.useMWLSParticipantsExn=c;f.useMWLSParticipantsMap=d;f.useParticipants=e;f.useMercuryParticipants=k}),null);
__d("MWLSThread.bs",["ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:a,tl:0})},[c,JSON.stringify(a)]))}f.useThread=a}),null);
__d("LSBitFlag.bs",["bs_caml","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_caml").i64_eq(b("bs_caml_int64").and_(c,a),a)}function c(a,c){return b("bs_caml_int64").or_(c,a)}function d(a,c){return b("bs_caml_int64").and_(c,b("bs_int64").lognot(a))}e=b("bs_caml_int64").zero;f.empty=e;f.has=a;f.set=c;f.clear=d}),null);
__d("LSBitOffset.bs",["LSBitFlag.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(a));return b("LSBitFlag.bs").set(a,c)}function c(a,c){a=b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(a));return b("LSBitFlag.bs").clear(a,c)}d=b("bs_caml_int64").zero;f.empty=d;f.set=a;f.clear=c}),null);
__d("LSContactBitOffset.bs",["LSBitFlag.bs","LSBitOffset.bs","bs_belt_Option","bs_caml","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(b("bs_caml").i64_ge(a,[0,64])){var d=c.Q;if(d===void 0)return;d=b("bs_caml_int64").sub(a,[0,64]);d=b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(d));return b("LSBitFlag.bs").has(d,b("bs_belt_Option").getWithDefault(c.Q,b("LSBitOffset.bs").empty))}d=c.G;if(d===void 0)return;d=b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(a));return b("LSBitFlag.bs").has(d,b("bs_belt_Option").getWithDefault(c.G,b("LSBitOffset.bs").empty))}f.has=a}),null);
__d("LSThreadBitOffset.bs",["LSBitFlag.bs","bs_caml","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(b("bs_caml").i64_ge(a,[0,64])){var d,e=(d=b("bs_caml_int64")).sub(a,[0,64]);d=d.lsl_(d.one,d.to_int32(e));return b("LSBitFlag.bs").has(d,c.bb)}e=b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(a));return b("LSBitFlag.bs").has(e,c.P)}function c(a,c,d){return a.reduce(function(c,d){var a=c[1];c=c[0];if(b("bs_caml").i64_ge(d,[0,64])){var e,f=(e=b("bs_caml_int64")).sub(d,[0,64]);e=e.lsl_(e.one,e.to_int32(f));return[c,b("LSBitFlag.bs").set(e,a)]}f=b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(d));return[b("LSBitFlag.bs").set(f,c),a]},[c,d])}function d(a,c,d){return a.reduce(function(c,d){var a=c[1];c=c[0];if(b("bs_caml").i64_ge(d,[0,64])){var e,f=(e=b("bs_caml_int64")).sub(d,[0,64]);e=e.lsl_(e.one,e.to_int32(f));return[c,b("LSBitFlag.bs").clear(e,a)]}f=b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(d));return[b("LSBitFlag.bs").clear(f,c),a]},[c,d])}e=b("bs_caml_int64").zero;f.empty=e;f.has=a;f.set=c;f.clear=d}),null);
__d("LSVec.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.slice();a.tag="ls-array";return a}f.make=a}),null);
__d("LSResult.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f.make=a}),null);
__d("ReQLTable.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";c={};d={};function a(a,c,d){return a.get(c).then(function(e){return a.upsert(c,b("bs_curry")._1(d,e))})}f.Direction=c;f.Index=d;f.update=a}),null);
__d("LSTaskSerializerMuteThreadV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("TaskSerializerMuteThreadV2: Task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,b.seq([function(a){return c[6]=f.b,b.db.table(9).fetch([[[c[6]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?(c[7]=b.createArray(),c[8]=(c[7].push("TaskSerializerMuteThreadV2: Thread not found"),c[7]),c[9]=(c[7].push(c[6]),c[7]),c[10]=b.toJSON(c[7]),function(a){b.logger(a).mustfix(a)}(c[10]),a=[e,e],c[3]=a[0],c[4]=a[1],a):(f=d.item,b.seq([function(a){return b.db.table(9).fetch([[[c[6]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[7]=[0,1]:(f=d.item,c[12]=f.bd,b.i64.neq(c[12],e)?c[11]=c[12]:c[11]=[0,1],c[7]=c[11])})},function(a){return c[9]=new b.Map(),c[9].set("thread_key",c[6]),c[9].set("mailbox_type",[0,0]),c[9].set("mute_expire_time_ms",f.l),c[9].set("sync_group",c[7]),c[10]=b.toJSON(c[9]),a=[c[10],[0,144]],c[3]=a[0],c[4]=a[1],a}]))})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSTaskSerializerRemoveThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(32).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("TaskSerializerRemoveThreadV2: Task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,b.seq([function(a){return c[5]=f.b,c[6]=f.c,b.i64.neq(c[6],e)?b.seq([function(a){return b.db.table(9).fetch([[[c[5]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?c[7]=[0,1]:(f=d.item,c[12]=f.bd,b.i64.neq(c[12],e)?c[11]=c[12]:c[11]=[0,1],c[7]=c[11])})},function(a){return c[9]=new b.Map(),c[9].set("thread_key",c[5]),c[9].set("remove_type",c[6]),c[9].set("sync_group",c[7]),c[10]=b.toJSON(c[9]),a=[c[10],[0,146]],c[3]=a[0],c[4]=a[1],a}]):b.resolve((a=[e,e],c[3]=a[0],c[4]=a[1],a))},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSTaskSerializerSendMessageV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(31).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[3]=b.createArray(),c[4]=(c[3].push("task ID not found"),c[3]),c[5]=(c[3].push(a[0]),c[3]),c[6]=b.toJSON(c[3]),function(a){b.logger(a).mustfix(a)}(c[6]),g=[e,e],c[0]=g[0],c[1]=g[1],g):(f=d.item,b.seq([function(d){return c[9]=f.c,c[10]=f.d,c[14]=f.e,c[7]=f.g,c[8]=f.h,c[6]=f.i,c[11]=f.j,c[13]=f.k,c[12]=f.m,b.db.table(12).fetch([[[c[9]]],"optimistic"]).next().then(function(f,h){var d=f.done;f=f.value;return d?(c[15]=b.createArray(),c[16]=(c[15].push("OTID not found"),c[15]),c[17]=(c[15].push(c[9]),c[15]),c[18]=b.toJSON(c[15]),function(a){b.logger(a).mustfix(a)}(c[18]),d=[e,e],c[3]=d[0],c[4]=d[1],d):(h=f.item,b.seq([function(d){return c[21]=h.g,c[19]=h.a,c[22]=h.e,c[20]=h.i,c[24]=h.n,c[25]=h.o,c[18]=h.p,c[26]=h.q,c[23]=h.Z,c[27]=h.U,b.db.table(9).fetch([[[c[19]]]]).next().then(function(f,i){var d=f.done;f=f.value;return d?(c[28]=b.createArray(),c[29]=(c[28].push("thread not found"),c[28]),c[30]=(c[28].push(c[19]),c[28]),c[31]=b.toJSON(c[28]),function(a){b.logger(a).mustfix(a)}(c[31]),d=[e,e],c[15]=d[0],c[16]=d[1],d):(i=f.item,b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(e,f){var d=e.done;e=e.value;return d?c[28]=!1:(f=e.item,b.seq([function(d){return b.islc(b.ftr(b.db.table(2).fetch(),function(a){return a.b===f.b}),0,b.i64.to_float([0,1])).next().then(function(e,f){var d=e.done;e=e.value;return d?c[32]=!1:(f=e.item,c[32]=b.i64.eq(f.a,a[0]))})},function(a){return c[28]=c[32]}]))})},function(a){return b.i64.eq(i.Z,[0,20])&&b.i64.eq(i.c,[0,2])&&c[28]?b.seq([function(a){return c[33]=c[13]==null?[0,1]:c[13],c[32]=new b.Map(),c[32].set("thread_id",c[19]),c[32].set("otid",c[9]),c[32].set("source",c[14]==null?[0,0]:c[14]),c[32].set("send_type",[0,1]),b.i64.eq(c[33],[0,1])?b.resolve(c[32].set("text",c[21])):b.i64.eq(c[33],[0,2])?b.resolve(b.i64.neq(c[20],e)?(c[32].set("sticker_id",c[20]),c[32].set("send_type",c[33])):0):b.i64.eq(c[33],[0,7])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[22]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[41]=a[0],c[42]=a[1],a):(d=b.item,a=[d.h,d.X],c[41]=a[0],c[42]=a[1],a)})},function(a){return c[41]!==e?b.i64.neq(c[42],e)?(c[32].set("url",c[41]),c[32].set("attribution_app_id",c[42]),c[32].set("send_type",c[33])):0:0}]):b.i64.eq(c[33],[0,3])?b.seq([function(a){return c[32].set("text",c[21]),c[41]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[22]]]]),[["be","ASC"]]),function(a){a=a.item;return c[41].push(b.i64.from_string(a.e)),c[41]})},function(a){return c[32].set("attachment_fbids",c[41]),c[32].set("send_type",c[33])}]):b.i64.eq(c[33],[0,9])?b.seq([function(a){return c[32].set("text",c[21]),c[41]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[22]]]]),[["be","ASC"]]),function(a){a=a.item;return c[41].push(b.i64.from_string(a.e)),c[41]})},function(a){return c[32].set("attachment_fbids",c[41]),c[32].set("send_type",c[33])}]):b.i64.eq(c[33],[0,10])?b.seq([function(a){return c[32].set("text",c[21]),c[41]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[22]]]]),[["be","ASC"]]),function(a){a=a.item;return c[41].push(b.i64.from_string(a.e)),c[41]})},function(a){return c[32].set("attachment_fbids",c[41]),c[32].set("send_type",c[33])}]):b.i64.eq(c[33],[0,4])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[22]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[41]=e:(d=b.item,c[41]=d.e)})},function(a){return c[41]!==e?(c[32].set("text",c[21]),c[32].set("forwarded_share_id",c[41]),c[32].set("send_type",c[33])):0}]):b.i64.eq(c[33],[0,5])?b.resolve(c[10]!==e?(c[32].set("forwarded_msg_id",c[10]),c[32].set("send_type",c[33]),b.i64.neq(c[23],e)?c[32].set("forward_score",c[23]):0):0):b.i64.eq(c[33],[0,6])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[22]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[41]=a[0],c[42]=a[1],a):(d=b.item,a=[d.h,d.X],c[41]=a[0],c[42]=a[1],a)})},function(a){return c[41]!==e?(c[32].set("url",c[41]),c[32].set("text",c[21]),c[32].set("send_type",c[33])):0}]):b.resolve(0)},function(a){return c[37]=c[6]===""?e:c[6],c[37]!==e?b.i64.neq(c[11],e)?(c[41]=new b.Map(),c[41].set("reply_source_id",c[37]),c[41].set("reply_source_type",c[11]),c[32].set("reply_metadata",c[41])):0:0,c[38]=c[18]===""?e:c[18],c[38]!==e?(c[41]=c[24]===""?e:c[24],c[41]!==e?(c[42]=c[25]===""?e:c[25],c[42]!==e?(c[43]=new b.Map(),c[43].set("mention_ids",c[38]),c[43].set("mention_offsets",c[41]),c[43].set("mention_lengths",c[42]),c[43].set("mention_types",c[26]===""?e:c[26]),c[32].set("mention_data",c[43])):0):0):0,c[39]=c[7]===""?e:c[7],c[39]!==e?c[32].set("platform_ref",c[39]):0,c[40]=c[8]===""?e:c[8],c[40]!==e?c[32].set("platform_token",c[40]):0,b.i64.eq(c[33],[0,1])?b.i64.neq(c[27],e)?c[32].set("hot_emoji_size",c[27]):0:0,b.i64.neq(c[12],e)?c[32].set("initiating_source",c[12]):0,c[34]=b.createArray(),b.fe(b.db.table(14).fetch([[[c[19]]]]),function(a){a=a.item;return c[34].push(a.b),c[34]})},function(a){return c[35]=new b.Map(),c[35].set("participants",c[34]),c[35].set("send_payload",c[32]),b.fe(b.ftr(b.db.table(9).fetch(),function(a){return b.i64.eq(a.a,i.a)}),function(a){var b=a.update;a.item;return b({S:h.f})})},function(a){return c[36]=b.toJSON(c[35]),a=[c[36],[0,130]],c[30]=a[0],c[31]=a[1],a}]):b.seq([function(a){return c[33]=c[13]==null?[0,1]:c[13],c[32]=new b.Map(),c[32].set("thread_id",c[19]),c[32].set("otid",c[9]),c[32].set("source",c[14]==null?[0,0]:c[14]),c[32].set("send_type",[0,1]),b.i64.eq(c[33],[0,1])?b.resolve(c[32].set("text",c[21])):b.i64.eq(c[33],[0,2])?b.resolve(b.i64.neq(c[20],e)?(c[32].set("sticker_id",c[20]),c[32].set("send_type",c[33])):0):b.i64.eq(c[33],[0,7])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[22]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[39]=a[0],c[40]=a[1],a):(d=b.item,a=[d.h,d.X],c[39]=a[0],c[40]=a[1],a)})},function(a){return c[39]!==e?b.i64.neq(c[40],e)?(c[32].set("url",c[39]),c[32].set("attribution_app_id",c[40]),c[32].set("send_type",c[33])):0:0}]):b.i64.eq(c[33],[0,3])?b.seq([function(a){return c[32].set("text",c[21]),c[39]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[22]]]]),[["be","ASC"]]),function(a){a=a.item;return c[39].push(b.i64.from_string(a.e)),c[39]})},function(a){return c[32].set("attachment_fbids",c[39]),c[32].set("send_type",c[33])}]):b.i64.eq(c[33],[0,9])?b.seq([function(a){return c[32].set("text",c[21]),c[39]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[22]]]]),[["be","ASC"]]),function(a){a=a.item;return c[39].push(b.i64.from_string(a.e)),c[39]})},function(a){return c[32].set("attachment_fbids",c[39]),c[32].set("send_type",c[33])}]):b.i64.eq(c[33],[0,10])?b.seq([function(a){return c[32].set("text",c[21]),c[39]=b.createArray(),b.fe(b.sb(b.db.table(16).fetch([[[c[19],c[22]]]]),[["be","ASC"]]),function(a){a=a.item;return c[39].push(b.i64.from_string(a.e)),c[39]})},function(a){return c[32].set("attachment_fbids",c[39]),c[32].set("send_type",c[33])}]):b.i64.eq(c[33],[0,4])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[22]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?c[39]=e:(d=b.item,c[39]=d.e)})},function(a){return c[39]!==e?(c[32].set("text",c[21]),c[32].set("forwarded_share_id",c[39]),c[32].set("send_type",c[33])):0}]):b.i64.eq(c[33],[0,5])?b.resolve(c[10]!==e?(c[32].set("forwarded_msg_id",c[10]),c[32].set("send_type",c[33]),b.i64.neq(c[23],e)?c[32].set("forward_score",c[23]):0):0):b.i64.eq(c[33],[0,6])?b.seq([function(a){return b.db.table(16).fetch([[[c[19],c[22]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[e,e],c[39]=a[0],c[40]=a[1],a):(d=b.item,a=[d.h,d.X],c[39]=a[0],c[40]=a[1],a)})},function(a){return c[39]!==e?(c[32].set("url",c[39]),c[32].set("text",c[21]),c[32].set("send_type",c[33])):0}]):b.resolve(0)},function(a){return c[35]=c[6]===""?e:c[6],c[35]!==e?b.i64.neq(c[11],e)?(c[39]=new b.Map(),c[39].set("reply_source_id",c[35]),c[39].set("reply_source_type",c[11]),c[32].set("reply_metadata",c[39])):0:0,c[36]=c[18]===""?e:c[18],c[36]!==e?(c[39]=c[24]===""?e:c[24],c[39]!==e?(c[40]=c[25]===""?e:c[25],c[40]!==e?(c[41]=new b.Map(),c[41].set("mention_ids",c[36]),c[41].set("mention_offsets",c[39]),c[41].set("mention_lengths",c[40]),c[41].set("mention_types",c[26]===""?e:c[26]),c[32].set("mention_data",c[41])):0):0):0,c[37]=c[7]===""?e:c[7],c[37]!==e?c[32].set("platform_ref",c[37]):0,c[38]=c[8]===""?e:c[8],c[38]!==e?c[32].set("platform_token",c[38]):0,b.i64.eq(c[33],[0,1])?b.i64.neq(c[27],e)?c[32].set("hot_emoji_size",c[27]):0:0,b.i64.neq(c[12],e)?c[32].set("initiating_source",c[12]):0,c[34]=b.toJSON(c[32]),a=[c[34],[0,46]],c[30]=a[0],c[31]=a[1],a}])},function(a){return a=[c[30],c[31]],c[15]=a[0],c[16]=a[1],a}]))})},function(a){return a=[c[15],c[16]],c[3]=a[0],c[4]=a[1],a}]))})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSBeginHandlingPendingTasksForQueue",["LSSerializeBackupPayloadIndirection.bs","LSTaskSerializerMuteThreadV2","LSTaskSerializerRemoveThread","LSTaskSerializerSendMessageV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return c.ftr(c.db.table(3).fetch([[[a[0]]]]),function(b){return c.i64.neq(b.c,f)&&b.a===a[0]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[0]=!1:(a.item,d[0]=!0)})},function(e){return d[2]=new c.Map(),d[2].set("queue_name",a[0]),d[2].set("next_sync_ms",f),d[2].set("work_item_type",[0,4]),d[2].set("network_payload",f),d[2].set("http_url_override",f),d[2].set("skip_realtime_gateway",!1),d[3]=d[2],d[0]?c.resolve():c.seq([function(b){return c.islc(c.ftr(c.db.table(2).fetch(),function(b){return b.b===a[0]}),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",[-1,4294967295],[0,0],[-1,4294967295],f,f],d[4]=c[0],d[5]=c[1],d[6]=c[2],d[7]=c[3],d[8]=c[4],d[9]=c[5],c):(b=a.item,c=[b.b,b.h,b.k,b.g,b.d,b.i],d[4]=c[0],d[5]=c[1],d[6]=c[2],d[7]=c[3],d[8]=c[4],d[9]=c[5],c)})},function(b){return c.db.table(3).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[11]=[0,0]:(b=a.item,d[11]=b.g)})},function(e){return d[14]=c.i64.sub(d[5],c.i64.of_float(Date.now())),c.i64.le(d[14],[0,0])?(c.i64.eq(d[7],[0,0])||a[1]?d[15]=[0,0]:(c.i64.gt(d[7],[0,7])?d[17]=c.i64.sub(d[7],[0,7]):d[17]=d[7],d[18]=c.i64.sub(d[17],[0,1]),d[19]=c.i64.mul(c.i64.lsl_([0,1],c.i64.to_int32(c.i64.lt(d[18],[0,7])?d[18]:[0,7])),[0,500]),d[15]=c.i64.lt(d[19],[0,3e4])?d[19]:[0,3e4]),d[16]=c.i64.sub(c.i64.add(d[11],d[15]),c.i64.of_float(Date.now())),d[13]=c.i64.gt(d[16],[0,0])?d[16]:[0,0]):d[13]=d[14],c.i64.neq(d[13],[0,0])?c.resolve((d[15]=new c.Map(),d[15].set("queue_name",a[0]),d[15].set("next_sync_ms",d[13]),d[15].set("work_item_type",[0,3]),d[15].set("network_payload",f),d[15].set("http_url_override",f),d[15].set("skip_realtime_gateway",!1),d[3]=d[15])):c.seq([function(a){return c.i64.neq(d[6],[0,0])||d[8]==="16"||d[8]==="4"?c.resolve((a=[d[4],f,[0,2],f,f,!1],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],d[20]=a[5],a)):c.seq([function(a){return d[22]=c.createArray(),d[23]=!0,c.islc(c.ftr(c.db.table(2).fetch(),function(a){return a.b===d[4]}),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",[-1,4294967295],[0,0],[-1,4294967295],f,f],d[24]=c[0],d[25]=c[1],d[26]=c[2],d[27]=c[3],d[28]=c[4],d[29]=c[5],c):(b=a.item,c=[b.b,b.h,b.k,b.g,b.d,b.i],d[24]=c[0],d[25]=c[1],d[26]=c[2],d[27]=c[3],d[28]=c[4],d[29]=c[5],c)})},function(a){return c.ftr(c.db.table(2).fetch(),function(a){return a.b===d[4]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[31]=!0:(a.item,d[31]=!0)})},function(a){return c.fe(c.ftr(c.db.table(2).fetch(),function(a){return a.b===d[4]}),function(a){var e=a.item;return d[42]=e.a,d[40]=e.d,d[43]=e.g,d[41]=e.j,d[23]=e.i===d[29]&&!0===d[31]&&d[23],d[23]?c.seq([function(a){return d[40]===f?c.seq([function(a){return c.fe(c.ftr(c.db.table(2).fetch(),function(a){return c.i64.eq(a.a,d[42])}),function(a){return a["delete"]()})},function(a){return d[44]=f}]):c.seq([function(a){return c.i64.neq(d[41],f)?d[48]=c.i64.ge(c.i64.of_float(Date.now()),d[41]):d[48]=!1,d[48]?c.seq([function(a){return c.fe(c.ftr(c.db.table(2).fetch(),function(a){return c.i64.eq(a.a,d[42])}),function(a){return a["delete"]()})},function(a){return d[49]=f}]):c.seq([function(a){return c.seq([function(a){return d[40]==="46"?c.seq([function(a){return c.sp(b("LSTaskSerializerSendMessageV2"),d[42]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return a=[d[57],c.i64.to_string(d[58])],d[53]=a[0],d[54]=a[1],a}]):c.seq([function(a){return d[40]==="144"?c.seq([function(a){return c.sp(b("LSTaskSerializerMuteThreadV2"),d[42]).then(function(a){return a=a,d[59]=a[0],d[60]=a[1],a})},function(a){return a=[d[59],c.i64.to_string(d[60])],d[57]=a[0],d[58]=a[1],a}]):c.seq([function(a){return d[40]==="146"?c.seq([function(a){return c.sp(b("LSTaskSerializerRemoveThread"),d[42]).then(function(a){return a=a,d[61]=a[0],d[62]=a[1],a})},function(a){return a=[d[61],c.i64.to_string(d[62])],d[59]=a[0],d[60]=a[1],a}]):c.seq([function(a){return d[40]==="32"?c.seq([function(a){return c.seq([function(a){return c.db.table(32).fetch([[[d[42]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[68]=c.createArray(),d[69]=(d[68].push("taskSerializerUpdateThreadName: Task ID not found"),d[68]),d[70]=(d[68].push(d[42]),d[68]),d[71]=c.toJSON(d[68]),function(a){c.logger(a).mustfix(a)}(d[71]),e=[f,f],d[65]=e[0],d[66]=e[1],e):(b=a.item,c.seq([function(a){return d[71]=b.b,c.db.table(9).fetch([[[d[71]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[72]=c.createArray(),d[73]=(d[72].push("taskSerializerUpdateThreadName: Thread not found"),d[72]),d[74]=(d[72].push(d[71]),d[72]),d[75]=c.toJSON(d[72]),function(a){c.logger(a).mustfix(a)}(d[75]),a=[f,f],d[68]=a[0],d[69]=a[1],a):(e=b.item,c.seq([function(a){return c.db.table(9).fetch([[[d[71]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[72]=[0,1]:(e=b.item,d[77]=e.bd,c.i64.neq(d[77],f)?d[76]=d[77]:d[76]=[0,1],d[72]=d[76])})},function(a){return d[74]=new c.Map(),d[74].set("thread_key",d[71]),d[74].set("thread_name",e.d==null?"":e.d),d[74].set("sync_group",d[72]),d[75]=c.toJSON(d[74]),a=[d[75],[0,32]],d[68]=a[0],d[69]=a[1],a}]))})},function(a){return a=[d[68],d[69]],d[65]=a[0],d[66]=a[1],a}]))})},function(a){return a=[d[65],d[66]],d[63]=a[0],d[64]=a[1],a}])},function(a){return a=[d[63],c.i64.to_string(d[64])],d[61]=a[0],d[62]=a[1],a}]):c.seq([function(a){return d[40]==="362"?c.resolve((a=[f,f],d[65]=a[0],d[66]=a[1],a,a=[d[65],c.i64.to_string(d[66])],d[63]=a[0],d[64]=a[1],a)):c.seq([function(a){return d[40]==="50015"?c.resolve((function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsTaskSerializerEncryptedBackupsRestoreWithSerializerStoredProcedure]LSEncryptedBackupsEncryptedBackupRestoreTaskPayloadContextTable table not found"),a=[f,f],d[67]=a[0],d[68]=a[1],a,a=[d[67],c.i64.to_string(d[68])],d[65]=a[0],d[66]=a[1],a)):c.seq([function(a){return d[40]==="319"?c.seq([function(a){return c.seq([function(a){return c.ftr(c.db.table(177).fetch(),function(a){return c.i64.eq(a.b,d[42])}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[71]="":(b=a.item,d[71]=b.j)})},function(a){return c.nop(b("LSSerializeBackupPayloadIndirection.bs"),d[42],d[71]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return a=[d[73],[0,319]],d[69]=a[0],d[70]=a[1],a}])},function(a){return a=[d[69],c.i64.to_string(d[70])],d[67]=a[0],d[68]=a[1],a}]):c.resolve((a=[e.c,d[40]],d[67]=a[0],d[68]=a[1],a))},function(a){return a=[d[67],d[68]],d[65]=a[0],d[66]=a[1],a}])},function(a){return a=[d[65],d[66]],d[63]=a[0],d[64]=a[1],a}])},function(a){return a=[d[63],d[64]],d[61]=a[0],d[62]=a[1],a}])},function(a){return a=[d[61],d[62]],d[59]=a[0],d[60]=a[1],a}])},function(a){return a=[d[59],d[60]],d[57]=a[0],d[58]=a[1],a}])},function(a){return a=[d[57],d[58]],d[53]=a[0],d[54]=a[1],a}])},function(a){return d[31]?(a=[d[53],d[54]],d[55]=a[0],d[56]=a[1],a):(a=[f,f],d[57]=a[0],d[58]=a[1],a,a=[d[57],c.i64.to_string(d[58])],d[55]=a[0],d[56]=a[1],a),a=[d[55],d[56]],d[50]=a[0],d[51]=a[1],a}])},function(a){return d[50]!==f?(d[53]=new c.Map(),d[53].set("label",d[51]),d[53].set("payload",d[50]),d[53].set("queue_name",e.b),d[53].set("task_id",d[42]),d[53].set("failure_count",c.i64.eq(d[43],[0,0])?f:d[43]),d[52]=d[53]):d[52]=f,d[49]=d[52]}])},function(a){return d[44]=d[49]}])},function(a){return d[44]?d[45]=!1:d[45]=!0,d[45]?0:(d[22].push(d[44]),d[22]),d[46]=c.i64.of_int32(d[22].length),d[40]!==f?d[47]=["90","130","153"].includes(d[40]):d[47]=!1,d[23]=!(c.i64.ge(d[46],[0,5])||d[47])}]):c.resolve()})},function(a){return d[33]=c.i64.of_int32(d[22].length),c.i64.eq(d[33],[0,0])?c.resolve((a=[d[4],f,[0,4],f,f,!1],d[34]=a[0],d[35]=a[1],d[36]=a[2],d[37]=a[3],d[38]=a[4],d[39]=a[5],a)):c.seq([function(a){return d[40]=c.i64.random(),d[50]=c.i64.and_(c.i64.or_(c.i64.lsl_(c.i64.of_float(Date.now()),c.i64.to_int32([0,22])),c.i64.and_(d[40],[0,4194303])),[2147483647,4294967295]),c.db.table(3).fetch([[[d[4],[-1,4294967295]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c.db.table(3).add({b:[-1,4294967295],a:d[4],f:[0,0],e:[0,0],g:c.i64.of_float(Date.now()),c:d[50]}):(a.item,c.fe(c.db.table(3).fetch([[[d[4],[-1,4294967295]]]]),function(a){var b=a.update;a.item;return b({c:d[50],g:c.i64.of_float(Date.now())})}))})},function(a){return c.islc(c.ftr(c.db.table(2).fetch(),function(a){return a.b===d[4]}),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=["",[-1,4294967295],[0,0],[-1,4294967295],f,f],d[42]=c[0],d[43]=c[1],d[44]=c[2],d[45]=c[3],d[46]=c[4],d[47]=c[5],c):(b=a.item,c=[b.b,b.h,b.k,b.g,b.d,b.i],d[42]=c[0],d[43]=c[1],d[44]=c[2],d[45]=c[3],d[46]=c[4],d[47]=c[5],c)})},function(a){return d[49]=new c.Map(),d[49].set("tasks",d[22]),d[49].set("epoch_id",d[50]),a=[d[4],f,[0,1],d[49],d[47],!(d[47]===f)||c.i64.gt(d[45],[0,7])],d[34]=a[0],d[35]=a[1],d[36]=a[2],d[37]=a[3],d[38]=a[4],d[39]=a[5],a}])},function(a){return a=[d[34],d[35],d[36],d[37],d[38],d[39]],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],d[20]=a[5],a}])},function(a){return d[21]=new c.Map(),d[21].set("queue_name",d[15]),d[21].set("next_sync_ms",d[16]),d[21].set("work_item_type",d[17]),d[21].set("network_payload",d[18]),d[21].set("http_url_override",d[19]),d[21].set("skip_realtime_gateway",d[20]),d[3]=d[21]}])}])},function(a){return e[0]=d[3]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var f=a.done;a=a.value;return f?c[0]=e:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.a),c[9].set("current_cursor",d.b),c[9].set("sync_status",d.c),c[9].set("sync_params",d.d),c[9].set("send_sync_params",d.e),c[9].set("min_time_to_sync_timestamp_ms",d.f),c[9].set("can_ignore_timestamp",d.g),c[9].set("sync_channel",d.n),c[9].set("last_sync_request_timestamp_ms",d.i),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],e,[0,4],e,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.seq([function(a){return c[9]=c[0].get("group_id"),c[0],b.ftr(b.db.table(3).fetch(),function(a){return b.i64.neq(a.c,e)&&b.i64.eq(a.b,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),c[0],d=[c[17],e,[0,4],e,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4],d)):b.seq([function(d){return c[27]=b.i64.of_float(Date.now()),c[17]=c[0].get("min_time_to_sync_timestamp_ms"),c[0],c[18]=c[0].get("last_sync_request_timestamp_ms"),c[0],c[19]=c[0].get("can_ignore_timestamp"),c[0],!c[19]&&b.i64.lt(c[27],c[17])?b.resolve(c[20]=b.i64.sub(c[17],c[27])):b.seq([function(d){return a[1]?b.resolve(c[28]=[0,0]):b.seq([function(a){return c[29]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[30]=[0,0]:(b=a.item,c[30]=b.f)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_([0,1],b.i64.to_int32(b.i64.lt([0,15],c[30])?[0,15]:c[30])),[0,1]),[0,500]),c[33]=b.i64.sub(b.i64.add(c[18]==null?[0,0]:c[18],b.i64.lt(c[32],[0,3e4])?c[32]:[0,3e4]),c[27]),c[28]=b.i64.gt(c[33],[0,0])?c[33]:[0,0]}])},function(a){return c[20]=c[28]}])},function(a){return c[21]=c[0].get("group_id"),c[0],b.i64.gt(c[20],[0,0])?b.seq([function(a){return b.fe(b.ftr(b.db.table(3).fetch(),function(a){return b.i64.eq(a.b,c[21])}),function(a){var c=a.update;a.item;return c({h:b.i64.of_float(Date.now())})})},function(a){return a=[c[21],c[20],[0,3],e,!1],c[22]=a[0],c[23]=a[1],c[24]=a[2],c[25]=a[3],c[26]=a[4],a}]):b.seq([function(a){return b.fe(b.db.table(1).fetch([[[c[21]]]]),function(a){var c=a.update;a.item;return c({i:b.i64.of_float(Date.now())})})},function(a){return b.fe(b.ftr(b.db.table(3).fetch(),function(a){return b.i64.eq(a.b,c[21])}),function(a){var c=a.update;a.item;return c({g:b.i64.of_float(Date.now())})})},function(a){return c[28]=c[0].get("group_id"),c[0],c[29]=b.i64.random(),c[42]=b.i64.and_(b.i64.or_(b.i64.lsl_(b.i64.of_float(Date.now()),b.i64.to_int32([0,22])),b.i64.and_(c[29],[0,4194303])),[2147483647,4294967295]),b.db.table(3).fetch([[["",c[28]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({b:c[28],a:"",f:[0,0],e:[0,0],g:[0,0],c:c[42]}):(a.item,b.fe(b.db.table(3).fetch([[["",c[28]]]]),function(a){var b=a.update;a.item;return b({c:c[42]})}))})},function(a){return c[31]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[31]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[32]=[0,0]:(b=a.item,c[32]=b.f)})},function(a){return c[34]=c[0].get("send_sync_params"),c[0],c[35]=c[0].get("sync_params"),c[0],c[36]=c[0].get("current_cursor"),c[0],c[37]=new b.Map(),c[37].set("database",c[31]),c[37].set("version",[-1,4294967295]),c[37].set("epoch_id",c[42]),c[37].set("last_applied_cursor",c[36]),c[37].set("sync_params",c[34]?c[35]:e),c[37].set("failure_count",b.i64.gt(c[32],[0,0])?c[32]:e),c[38]=c[0].get("current_cursor"),c[0],e===c[38]?c[39]=[0,1]:c[39]=[0,2],c[40]=new b.Map(),c[40].set("type",c[39]),c[40].set("request_payload",c[37]),c[41]=c[0].get("sync_channel"),c[0],a=[c[28],e,[0,1],c[40],b.i64.eq(c[41],[0,2])],c[22]=a[0],c[23]=a[1],c[24]=a[2],c[25]=a[3],c[26]=a[4],a}])},function(a){return a=[c[22],c[23],c[24],c[25],c[26]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({f:b.i64.of_float(Date.now())})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSHandleTaskSendFailureForQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.islc(b.ftr(b.db.table(2).fetch(),function(b){return a[0]===b.b}),0,b.i64.to_float([0,1])).next().then(function(a,d){var f=a.done;a=a.value;return f?0:(d=a.item,b.ftr(b.db.table(2).fetch(),function(a){return b.i64.eq(a.a,d.a)}).next().then(function(d,f){var a=d.done;d=d.value;return a?0:(f=d.item,b.i64.neq(e,e)?c[1]=b.i64.add(b.i64.of_float(Date.now()),e):c[1]=f.h,b.fe(b.ftr(b.db.table(2).fetch(),function(a){return b.i64.eq(a.a,f.a)}),function(a){var d=a.update;a.item;return d({g:b.i64.add(f.g,[0,1]),h:c[1]})}))}))})},function(c){return b.fe(b.db.table(3).fetch([[[a[0],[-1,4294967295]]]]),function(a){var c=a.update;a=a.item;return c({f:b.i64.add(a.f,[0,1])})})},function(c){return b.fe(b.db.table(3).fetch([[[a[0],[-1,4294967295]]]]),function(a){var b=a.update;a.item;return b({c:e,d:e})})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSIssueMessagesRangeQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.islc(c.ftr(c.db.table(13).fetchDesc([[[a[0]]]]),function(b){return c.i64.eq(b.a,a[0])&&(c.i64.eq(b.b,f)||c.i64.le(b.b,a[1]))}),0,c.i64.to_float([0,1])).next().then(function(e,g){var h=e.done;e=e.value;return h?0:(g=e.item,d[3]=g.a,d[4]=[0,0],d[1]=g.b,d[2]=g.c,c.i64.eq(a[2],[0,0])?d[0]=g.h&&!g.f:d[0]=g.i&&!g.g,d[0]?c.seq([function(b){return c.i64.eq(a[2],[0,0])?c.seq([function(a){return c.fe(c.ftr(c.db.table(13).fetch(),function(a){return c.i64.eq(a.a,d[3])&&c.i64.eq([0,0],d[4])&&c.i64.eq(a.b,d[1])&&a.c===d[2]}),function(a){var b=a.update;a.item;return b({f:!0})})},function(a){return a=[d[1],d[2]],d[5]=a[0],d[6]=a[1],a}]):c.seq([function(a){return c.fe(c.ftr(c.db.table(13).fetch(),function(a){return c.i64.eq(a.a,d[3])&&c.i64.eq([0,0],d[4])&&c.i64.eq(a.b,d[1])&&a.c===d[2]}),function(a){var b=a.update;a.item;return b({g:!0})})},function(a){return a=[g.d,g.e],d[5]=a[0],d[6]=a[1],a}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[7]=[0,1]:(e=b.item,d[13]=e.bd,c.i64.neq(d[13],f)?d[12]=d[13]:d[12]=[0,1],d[7]=d[12])})},function(e){return d[9]=new c.Map(),d[9].set("thread_key",a[0]),d[9].set("direction",a[2]),d[9].set("reference_timestamp_ms",d[5]),d[9].set("reference_message_id",d[6]),d[9].set("sync_group",d[7]),d[10]=d[9].get("thread_key"),d[9],d[11]=c.toJSON(d[9]),c.sp(b("LSIssueNewTask"),"mrq.{}".split("{}").join(c.i64.to_string(d[10])),[0,228],d[11],f,f,[0,0],f)}]):c.resolve())})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.a,a[1])&&b.i64.gt(a[0],c.j)}),function(b){var c=b.update;b.item;return c({j:a[0]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticPseudoUnblock",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=[0,0]:(b=a.item,d[0]=b.G)})},function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(b,d){var e=b.done;b=b.value;return e?0:(d=b.item,c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.eq([0,1],[0,1])}),function(a){var b=a.update;a.item;return b({G:c.i64.and_(d.G==null?[0,0]:d.G,[-1,4227858431])})}))})},function(e){return d[2]=new c.Map(),d[2].set("blockee_id",a[0]),d[2].set("request_id",a[1]),d[2].set("capabilities",d[0]==null?[0,0]:d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"pseudo_unblock",[0,194],d[3],f,f,[0,0],f)}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAppendDataTraceAddon.bs",["LS.bs","LSAppendDataTraceAddon","bs_belt_Option","bs_curry","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")&&b("gkx")("1951030"))return b("LSAppendDataTraceAddon")(d,e,f,b("bs_belt_Option").getWithDefault(g,""),b("bs_belt_Option").getWithDefault(h,""),b("bs_curry")._1(b("LS.bs").make,a));else return window.Promise.resolve(void 0)}f.call=a}),null);
__d("LSDataTraceCheckPoint.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,10];e=[0,11];b=[0,12];var g=[0,13],h=[0,20],i=[0,21],j=[0,22],k=[0,30],l=[0,31],m=[0,32],n=[0,33],o=[0,34],p=[0,35],q=[0,36],r=[0,37],s=[0,38],t=[0,39],u=[0,40],v=[0,41],w=[0,42],x=[0,43],y=[0,44],z=[0,45],A=[0,50],B=[0,51],C=[0,52],D=[0,53],E=[0,60],F=[0,61],G=[0,62],H=[0,63],I=[0,64],J=[0,65],K=[0,70],L=[0,71],M=[0,72],N=[0,80],O=[0,81],P=[0,82],Q=[0,83],R=[0,84],S=[0,85],T=[0,98],U=[0,99],V=[0,100],W=[0,101],X=[0,102],Y=[0,103],Z=[0,104],$=[0,105],aa=[0,106],ba=[0,107],ca=[0,108],da=[0,109],ea=[0,110],fa=[0,111],ga=[0,112],ha=[0,113],ia=[0,114],ja=[0,115],ka=[0,116],la=[0,200],ma=[0,201],na=[0,202],oa=[0,203],pa=[0,204],qa=[0,205],ra=[0,300],sa=[0,301],ta=[0,1400],ua=[0,1401],va=[0,1402],wa=[0,1403],xa=[0,1404],ya=[0,1405],za=[0,1406],Aa=[0,1407],Ba=[0,1410],Ca=[0,1411],Da=[0,1412],Ea=[0,1413],Fa=[0,1414],Ga=[0,1415],Ha=[0,1416],Ia=[0,1417],Ja=[0,1418],Ka=[0,1419],La=[0,1420],Ma=[0,1421],Na=[0,1422],Oa=[0,1423],Pa=[0,1424],Qa=[0,1425],Ra=[0,1426];f.clientDbOutbound=a;f.clientNetworkOutbound=c;f.clientNetworkInbound=d;f.clientDbInbound=e;f.clientEvaluateDasm=b;f.clientAppStateChange=g;f.clientCreateTask=h;f.clientRecipientPresence=i;f.clientEvaluateDasmBegin=j;f.mqttPublish=k;f.mqttPublishAck=l;f.mqttDisconnected=m;f.mqttConnecting=n;f.mqttConnected=o;f.mqttConnectionAcked=p;f.tincanReceiveMessage=q;f.tincanReceiveDecryptionComplete=r;f.tincanReceiveDecryptionFailed=s;f.tincanReceiveDrQueued=t;f.tincanReceiveDrSentToNetwork=u;f.tincanReceiveDrPublishToMqtt=v;f.tincanReceiveDrmqttPuback=w;f.tincanReceiveBounceTaskQueued=x;f.tincanReceiveBounceTaskSentToNetwork=y;f.tincanReceiveBounceTaskPublishToMqtt=z;f.richMediaDownloadStart=A;f.richMediaDownloadEnd=B;f.richMediaDownloadError=C;f.richMediaUploadStart=D;f.armadilloAct=E;f.armadilloActTaskPick=F;f.armadilloActSerialize=G;f.armadilloActGroupSend=H;f.armadilloActSendFailure=I;f.armadilloActMessageSend=J;f.networkDisconnected=K;f.networkConnected=L;f.networkUnknown=M;f.flowCreat=N;f.flowEnd=O;f.flowInterrupted=P;f.flowConnectId=Q;f.flowEndForFailure=R;f.flowEndAndFlush=S;f.traceCreated=T;f.clientReadyToFlush=U;f.pendingDelta=V;f.noPendingDelta=W;f.initSync=X;f.resnapshot=Y;f.catchUp=Z;f.periodicSync=$;f.catchUpFromRevision=aa;f.resnapshotContinue=ba;f.resnapshotEnd=ca;f.periodicSyncContinue=da;f.periodicSyncEnd=ea;f.contactSyncOptimistic=fa;f.contactSyncFromOmnistore=ga;f.contactSyncTamOptimistc=ha;f.contactSyncTamFromOmnistore=ia;f.contactSyncTamError=ja;f.verifyUserForSync=ka;f.receiveDeliveryReceipt=la;f.taskDeserializationError=ma;f.optimisicMessageFailed=na;f.sendServerAuthoritative=oa;f.threadRangeQueryComplete=pa;f.threadRangeQueryFailure=qa;f.xmsTransportMessageSendStart=ra;f.xmsTransportMessageSendFail=sa;f.labyrinthInitializeBackupSproc=ta;f.labyrinthInitializeBackupSuccessSproc=ua;f.labyrinthInitializeBackupFailure=va;f.labyrinthCreateBackupMailboxSproc=wa;f.labyrinthHandleCreateBackupMailboxSuccessSproc=xa;f.labyrinthOpenEpochSproc=ya;f.labyrinthHandlerOpenEpochSuccessSproc=za;f.labyrinthHandlerOpenEpochFailureSproc=Aa;f.labyrinthCreateVirtualDeviceSproc=Ba;f.labyrinthHandleCreateVirtualDeviceSuccessSproc=Ca;f.labyrinthHandleCreateVirtualDeviceFailureSproc=Da;f.labyrinthAddDeviceSproc=Ea;f.labyrinthAddDeviceFromVirtualSproc=Fa;f.labyrinthHandoleWrongRecoveryCodeSproc=Ga;f.labyrinthHandleAddDeviceSuccessSproc=Ha;f.labyrinthHandleAddDeviceFailureSproc=Ia;f.labyrinthInitializeRestoreSproc=Ja;f.labyrinthDecryptThreadsSproc=Ka;f.labyrinthRequestMessagesFromThreadsSproc=La;f.labyrinthRequestMessagesFromRangeQuerySproc=Ma;f.labyrinthDecryptMessagesSproc=Na;f.labyrinthDeleteBackupOnClientSproc=Oa;f.labyrinthDeleteBackupsSproc=Pa;f.labyrinthHandleDeleteMailboxSproc=Qa;f.labyrinthIssueDeleteBackupTaskSproc=Ra}),null);
__d("LSFlushDataTrace.bs",["LS.bs","LSAppendDataTraceAddon","LSDataTraceCheckPoint.bs","ReQL.bs","ReQLTable","ReQLTable.bs","bs_caml_int64","bs_curry","gkx","killswitch","requireDeferred","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("LSDataTraceFlush.bs").__setRef("LSFlushDataTrace.bs");function h(a,c){return b("LSAppendDataTraceAddon")(c,b("LSDataTraceCheckPoint.bs").clientReadyToFlush,b("bs_caml_int64").neg_one,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,a)).then(function(d){return b("ReQLTable.bs").update(b("ReQLTable").table(a,"data_trace_meta"),{hd:c,tl:0},function(a){if(a!==void 0)return{a:a.a,b:a.b,c:a.c,d:a.d,e:!0,f:a.f,g:a.g,h:a.h,i:a.i};else return b("unrecoverableViolation")("Data trace is missing "+c,"messenger_web_product")}).then(function(d){return g.load().then(function(d){return b("bs_curry")._2(d.flush,a,c)})})})}function a(a,c,d){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")&&b("gkx")("1951030"))return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"data_trace_meta").asc,{hd:d,tl:0})).then(function(b){if(b!==void 0)return h(a,d);else return window.Promise.resolve(void 0)});else return window.Promise.resolve(void 0)}f.$LSDataTraceFlush$Deferred=g;f.updateAndFlushTrace=h;f.call=a}),null);
__d("LSContactCapabilityBitOffset.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,64],G=[0,65],H=[0,66],I=[0,67],J=[0,68],K=[0,69],L=[0,70],M=[0,71],N=[0,72],O=[0,73];f.message=a;f.replyMessage=c;f.joinGroup=d;f.block=e;f.see=b;f.seeFacebookProfile=g;f.payment=h;f.camera=i;f.mediaPicker=j;f.sticker=k;f.gif=l;f.audioClips=m;f.sharedMedia=n;f.reactions=o;f.seenHeads=p;f.threadDetails=q;f.rtcVideoCall=r;f.rtcVoiceCall=s;f.threadFeedbackAndReport=t;f.goToSecretConversation=u;f.makeAdmin=v;f.removeFromGroup=w;f.removeAsAdmin=x;f.verified=y;f.disappearingMode=z;f.seeMessage=A;f.pseudoBlock=B;f.pushable=C;f.messageBlockPlaced=D;f.facebookBlockPlaced=E;f.viewerIsUnconnected=F;f.pagePlatformBot=G;f.restrictPlaced=H;f.isXacEligible=I;f.isGroupsXacEligible=J;f.isGroupsXacCallingEligible=K;f.isE2eeOnly=L;f.isEligibleForSafetyNotice=M;f.novi=N;f.isContactShareable=O}),null);
__d("LSMailboxMessagesRangeQueryDirection.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.before=a;f.after=c}),null);
__d("LSThreadCapabilityBitOffset.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,12],n=[0,13],o=[0,14],p=[0,15],q=[0,16],r=[0,17],s=[0,18],t=[0,19],u=[0,20],v=[0,21],w=[0,22],x=[0,23],y=[0,24],z=[0,25],A=[0,26],B=[0,27],C=[0,28],D=[0,29],E=[0,30],F=[0,31],G=[0,32],H=[0,33],I=[0,34],J=[0,35],K=[0,36],L=[0,37],M=[0,38],N=[0,39],O=[0,40],P=[0,41],Q=[0,42],R=[0,43],S=[0,44],T=[0,45],U=[0,46],V=[0,47],W=[0,48],X=[0,49],Y=[0,50],Z=[0,51],$=[0,52],aa=[0,53],ba=[0,54],ca=[0,55],da=[0,56],ea=[0,57],fa=[0,58],ga=[0,59],ha=[0,60],ia=[0,61],ja=[0,62],ka=[0,63],la=[0,64],ma=[0,65],na=[0,66],oa=[0,67],pa=[0,68],qa=[0,69],ra=[0,70],sa=[0,71],ta=[0,72],ua=[0,73],va=[0,74],wa=[0,75],xa=[0,76],ya=[0,77],za=[0,78],Aa=[0,79],Ba=[0,80],Ca=[0,81],Da=[0,82],Ea=[0,83],Fa=[0,84],Ga=[0,85],Ha=[0,86],Ia=[0,87],Ja=[0,88],Ka=[0,89],La=[0,90],Ma=[0,91],Na=[0,92],Oa=[0,93],Pa=[0,94],Qa=[0,95],Ra=[0,96],Sa=[0,97],Ta=[0,98],Ua=[0,99],Va=[0,100],Wa=[0,101],Xa=[0,102],Ya=[0,103],Za=[0,104],$a=[0,105],ab=[0,106],bb=[0,107],cb=[0,108],db=[0,109],eb=[0,110],fb=[0,111],gb=[0,112],hb=[0,113],ib=[0,114],jb=[0,115];f.payment=a;f.camera=c;f.mediaPicker=d;f.sticker=e;f.gif=b;f.goToSecretConversation=g;f.colorCustomization=h;f.emojiCustomization=i;f.threadDetailsProfileButton=j;f.nicknames=k;f.block=l;f.calibra=m;f.messengerKidsManageKidAccount=n;f.audioClips=o;f.sharedMedia=p;f.blockGroupMember=q;f.feedbackAndReport=r;f.reactions=s;f.muteThread=t;f.seenHeads=u;f.messageRequestComposerBanner=v;f.inThreadProfileButton=w;f.threadDetails=x;f.rtcVideoCall=y;f.rtcVoiceCall=z;f.memberList=A;f.addMember=B;f.leaveThread=C;f.blockedUserInterstitial=D;f.optimisticThreadFeedbackAndReport=E;f.locationSharing=F;f.ignoreMessages=G;f.focusMode=H;f.searchInConversation=I;f.createGroup=J;f.pollCreation=K;f.displayActorTypeInThreadViewHeader=L;f.disappearingMode=M;f.forceOnePhaseSend=N;f.splitMultiSendPhoto=O;f.threadDetailsIgProfileButton=P;f.messageReply=Q;f.mentions=R;f.gamesBotThread=S;f.disableLinks=T;f.blurMedia=U;f.disableContextBanner=V;f.topLevelSelfRemediation=W;f.disableUserControl=X;f.threadDetailsShowUserName=Y;f.disableMessageBubbleSwipe=Z;f.ignoredThread=$;f.pageBan=aa;f.customThreadNotificationSounds=ba;f.roomCreation=ca;f.filePicker=da;f.joinRoom=ea;f.selfieSticker=fa;f.powerUp=ga;f.threadNameCustomization=ha;f.threadPhotoCustomization=ia;f.structuredInput=ja;f.suppressNullstateHeader=ka;f.archiveThread=la;f.unarchiveThread=ma;f.memberRequest=na;f.businessInboxBan=oa;f.ctmAdThreadWithAdWarning=pa;f.businessInboxSavedReplies=qa;f.gardenThreadSettings=ra;f.marketplaceSavedReplies=sa;f.carrierMessagingAddMember=ta;f.phoneCall=ua;f.threadDetailsDeleteThread=va;f.ephemeralMessageTimer=wa;f.messageExpiration=xa;f.messageSoundSettings=ya;f.ringtoneSoundSettings=za;f.hideFromActiveNow=Aa;f.magicWords=Ba;f.threadDescriptionCustomization=Ca;f.businessInboxCatalog=Da;f.adminRecallMessage=Ea;f.shareContact=Fa;f.restrictContact=Ga;f.soundBite=Ha;f.mostLikelyToPollCreation=Ia;f.reportChatToAdmin=Ja;f.canMarkReadOrUnread=Ka;f.businessTools=La;f.removeMember=Ma;f.groupGoToSecretConversation=Na;f.reportMessageToAdmin=Oa;f.manageMember=Pa;f.sharedLinks=Qa;f.sharedContent=Ra;f.addXacUsers=Sa;f.businessOrderManagement=Ta;f.rtcMarketplaceComposerBanner=Ua;f.isSellerRtcEligible=Va;f.isBuyerRtcEligible=Wa;f.messageLocalDelete=Xa;f.messageForward=Ya;f.isNfbEligible=Za;f.messageRequestGroupInvite=$a;f.pinnedMessagesV2=ab;f.businessAppointmentBooking=bb;f.threadDetailsShowChatInviteLink=cb;f.hotlikeSticker=db;f.isLearningSpaceChat=eb;f.audioCaptions=fb;f.commandSilent=gb;f.marketplaceThreadCommerceProfileButton=hb;f.ephemeralMedia=ib;f.commandEveryone=jb}),null);
__d("LsMessengerThreadDamagingActionsEntryPoint.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,30],G=[0,31],H=[0,32],I=[0,33],J=[0,34],K=[0,35],L=[0,36],M=[0,37],N=[0,38],O=[0,39],P=[0,40],Q=[0,41],R=[0,42],S=[0,43],T=[0,44],U=[0,45],V=[0,46],W=[0,47],X=[0,48];f.addBlock=a;f.blockComposer=c;f.blockView=d;f.blockedUserRow=e;f.declineMr=b;f.filteredRequest=g;f.frx=h;f.frxConfirmation=i;f.groupBlockMember=j;f.groupMessageContactMenu=k;f.groupWarningDialog=l;f.inboxThreadActions=m;f.inboxThreadList=n;f.manageMessages=o;f.messageRequest=p;f.omniPicker=q;f.pageReport=r;f.proactiveWarning=s;f.profile=t;f.threadSettings=u;f.threadSettingsGroupMembers=v;f.threadSettingsTitleBarMenu=w;f.threadView=x;f.threadViewBlockerComposer=y;f.pageMenu=z;f.unavailableComposer=A;f.upsellBlockNotification=B;f.pseudoBlockWarningDialog=C;f.suggestedBlock=D;f.pendingThreadList=E;f.spamThreadList=F;f.supportInboxReportInReview=G;f.supportInboxReportReviewed=H;f.blockConfirmDialog=I;f.deprecated=J;f.groupCreate=K;f.offlineRetries=L;f.proactiveWarningPopover=M;f.reportedThreadWarning=N;f.rtcAddParticipant=O;f.rtcIncomingCall=P;f.rtcPostDecline=Q;f.xma=R;f.chatMultitabHead=S;f.addRestrict=T;f.restrictComposer=U;f.restrictedAccountsList=V;f.restrictFirstTimeNux=W;f.reportLongPress=X}),null);